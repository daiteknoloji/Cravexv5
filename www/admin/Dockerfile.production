# Production Dockerfile - Use pre-built dist folder
# This avoids git version issues during Docker build

FROM nginx:stable-alpine

# Copy pre-built admin panel
COPY dist /app

# Copy nginx config
COPY nginx.conf /etc/nginx/conf.d/default.conf

# Create symlink
RUN rm -rf /usr/share/nginx/html && \
    ln -s /app /usr/share/nginx/html

# Expose port
EXPOSE 80

# Start nginx
CMD ["nginx", "-g", "daemon off;"]

